<script lang="ts">
    import { m } from "$lib/paraglide/messages.js";
    import UserItem from "../../profile/[handle]/UserItem.svelte";
    import { onMount } from 'svelte';
    import { agent } from "$lib/stores";
    import SettingsHeader from "$lib/components/settings/SettingsHeader.svelte";

    let me = $state();

    onMount(async () => {
        const res = await $agent.agent.api.app.bsky.actor.getProfile({actor: 'holybea.blue'});
        me = res.data;
    })
</script>

<svelte:head>
  <title>{m.settings_about()} - TOKIMEKI</title>
</svelte:head>

<div>
  <SettingsHeader>
    {m.settings_about()}
  </SettingsHeader>

  <div class="settings-wrap">
    <p class="about-subhead">{m.about_subhead()}</p>

    <h2 class="about-logo">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="265.484" height="48.607" viewBox="0 0 265.484 48.607" aria-label="TOKIMEKI - Bluesky Client project">
        <defs>
          <linearGradient id="linear-gradient" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox">
            <stop offset="0" stop-color="#caecee"/>
            <stop offset="1" stop-color="#8c56d3"/>
          </linearGradient>
          <clipPath id="clip-path">
            <rect id="長方形_206" data-name="長方形 206" width="63.409" height="45.781" transform="translate(1655.528 380.327)" fill="url(#linear-gradient)"/>
          </clipPath>
          <linearGradient id="linear-gradient-2" x1="1" y1="0.4" x2="-0.112" y2="0.391" gradientUnits="objectBoundingBox">
            <stop offset="0" stop-color="#ffa3b2"/>
            <stop offset="0.268" stop-color="#ec86d6"/>
            <stop offset="0.536" stop-color="#73f08d"/>
            <stop offset="0.789" stop-color="#75c0e5"/>
            <stop offset="1" stop-color="#923ec9"/>
          </linearGradient>
          <linearGradient id="linear-gradient-3" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox">
            <stop offset="0" stop-color="#afe2ff"/>
            <stop offset="1" stop-color="#fff"/>
          </linearGradient>
        </defs>
        <g id="グループ_133" data-name="グループ 133" transform="translate(-828.261 -319.368)">
          <path id="パス_66" data-name="パス 66" d="M-122.322-18.618v-1.247h-13.34a2.264,2.264,0,0,0-2.407,2.175v1.305h5.713V-2.668A2.348,2.348,0,0,0-129.949,0h1.6V-16.385h3.654A2.52,2.52,0,0,0-122.322-18.618Zm20.851,8.381c0-6.293-4.263-9.976-9.077-9.976-6.032,0-9.512,4.408-9.512,10.585,0,5.945,4.06,9.976,9.077,9.976C-104.922.348-101.471-4.205-101.471-10.237Zm-4.089.551c0,4.379-1.972,6.583-5.046,6.583-3.625,0-5.365-2.349-5.365-7.134,0-4.06,2.117-6.467,5.046-6.467C-107.561-16.7-105.56-14.355-105.56-9.686Zm9.6-10.179h-1.276V-2.7A2.45,2.45,0,0,0-94.627,0h1.305V-10.034a68.476,68.476,0,0,0,6.38,8.845A3.962,3.962,0,0,0-84.158.087a2.21,2.21,0,0,0,2.552-2,3.7,3.7,0,0,1-1.566-.812c-2.523-2.146-4.321-5.162-6.177-7.859a102.781,102.781,0,0,1,7.482-9.135v-.145h-2.726a3.091,3.091,0,0,0-3.016,1.218,61.071,61.071,0,0,0-5.713,7.656V-17.2A2.439,2.439,0,0,0-95.961-19.865ZM-74.443,0V-17.748a2.145,2.145,0,0,0-2.117-2.117h-1.8V-2.639A2.46,2.46,0,0,0-75.951,0Zm27.695,0c0-3.973-.58-12.615-.957-15.747-.319-2.726-1.769-4.118-3.973-4.118h-.464c-.812.667-2.088,2.668-3.1,5.829l-2.291,7.047a18.728,18.728,0,0,0-.551,2.03,26.233,26.233,0,0,0-1.131-3.77L-61.973-16.5c-.754-2.117-2.7-3.364-5.452-3.364h-.841a130.1,130.1,0,0,0-1.6,17.226A2.386,2.386,0,0,0-67.367,0h1.392a122.736,122.736,0,0,1,.87-14.442c.29.7.754,1.885,1.1,2.9l2.842,8.381C-60.436-1.015-59.276,0-57.971,0H-56.9a14.539,14.539,0,0,0,1.624-3.538l2.784-8.526c.29-.9.667-1.711.928-2.349.319,1.972.754,9.251.754,11.774A2.359,2.359,0,0,0-48.256,0Zm18.3-3.712a19.949,19.949,0,0,1-4.35.435h-1.276c-3.074,0-4.205-.667-4.205-4.118v-1.16h5.249c1.6,0,2.407-.522,2.407-1.827V-11.8H-38.28a37.921,37.921,0,0,1,.29-4.64h6.815c1.827,0,2.668-.7,2.668-2.088v-1.334H-38.889c-1.624,0-2.726.609-3.045,2.987a41.788,41.788,0,0,0-.377,5.6V-7.6c0,5.075,2.552,7.743,7.4,7.743H-32.8c3.48,0,4.292-.87,4.321-2.465Zm4.93-16.153H-24.8V-2.7A2.45,2.45,0,0,0-22.185,0h1.305V-10.034A68.476,68.476,0,0,0-14.5-1.189,3.962,3.962,0,0,0-11.716.087a2.21,2.21,0,0,0,2.552-2,3.7,3.7,0,0,1-1.566-.812c-2.523-2.146-4.321-5.162-6.177-7.859A102.782,102.782,0,0,1-9.425-19.72v-.145h-2.726a3.091,3.091,0,0,0-3.016,1.218,61.072,61.072,0,0,0-5.713,7.656V-17.2A2.439,2.439,0,0,0-23.519-19.865ZM-2,0V-17.748a2.145,2.145,0,0,0-2.117-2.117h-1.8V-2.639A2.46,2.46,0,0,0-3.509,0Z" transform="translate(1039 344)"/>
          <path id="パス_67" data-name="パス 67" d="M-183.668-3.6a2.9,2.9,0,0,0-2.057-2.55,2.4,2.4,0,0,0,1.853-2.465c0-1.9-1.581-3.077-3.808-3.077h-1.411a11.992,11.992,0,0,0-3.077.527V-2.72c0,1.819,1.071,2.771,3.247,2.771h1.258C-185.538.051-183.668-1.258-183.668-3.6ZM-186.2-8.415c0,1-.85,1.411-1.887,1.411h-1.785V-9.639a7.294,7.294,0,0,1,1-.119H-188C-187.136-9.758-186.2-9.435-186.2-8.415Zm.187,4.879c0,.884-.612,1.462-1.87,1.462h-.952c-.578,0-1.02-.323-1.02-.731V-5.2H-188C-186.643-5.2-186.014-4.794-186.014-3.536Zm9.52,2.244v-.493h-.612c-1.071,0-1.547-.289-1.547-1.207V-10.71a1.442,1.442,0,0,0-1.632-1.53h-.646v9.469A2.589,2.589,0,0,0-178.024.085C-177.021.085-176.494-.306-176.494-1.292Zm9.928-2.822V-7.548c0-1.071-.561-1.632-1.887-1.632h-.408v5.151c0,1.564-.663,2.21-1.6,2.21-1.037,0-1.853-.68-1.853-2.363V-7.548c0-1.071-.578-1.632-1.887-1.632h-.425v5.219A3.877,3.877,0,0,0-170.578.2C-167.909.2-166.566-1.258-166.566-4.114Zm10.795-1.717a3.544,3.544,0,0,0-3.672-3.553c-2.618,0-4.488,1.921-4.488,4.981A4.522,4.522,0,0,0-159.426.2c2.516,0,3.315-.9,3.315-2.074v-.714h-.085a4.153,4.153,0,0,1-2.8.867A2.38,2.38,0,0,1-161.568-3.6h1.5C-157.046-3.6-155.771-4.148-155.771-5.831Zm-2.142-.272c0,.646-.493.884-2.652.884h-1.02l.017-.306a1.959,1.959,0,0,1,1.921-1.955C-158.593-7.48-157.913-7.021-157.913-6.1Zm11.339,3.213c0-1.462-1.02-2.295-2.924-2.6-1.564-.255-1.836-.442-1.836-.9,0-.6.442-1.02,1.836-1.02a4,4,0,0,1,2.618.85h.085v-.867c0-.884-.85-1.955-2.924-1.955-2.346,0-3.893,1.462-3.893,3.179,0,1.394.935,2.159,2.873,2.431,1.581.221,1.9.476,1.9,1,0,.68-.544,1-1.666,1a4.57,4.57,0,0,1-2.754-.867h-.085V-1.6c0,.935,1.258,1.8,2.941,1.8C-147.934.2-146.574-.952-146.574-2.89Zm3.434-9.35h-.731V-1.615c0,1.054.493,1.615,1.513,1.615h.782V-4.488a39.091,39.091,0,0,0,3.2,3.91,2.235,2.235,0,0,0,1.5.629,1.4,1.4,0,0,0,1.547-1.122,3.853,3.853,0,0,1-1.768-1.19c-.816-.833-1.53-1.768-2.261-2.669A48.29,48.29,0,0,1-135.643-9.1V-9.18h-1.309a2.351,2.351,0,0,0-1.819.6,24.518,24.518,0,0,0-2.8,3.332v-5.474A1.385,1.385,0,0,0-143.14-12.24Zm15.011,10.268c.425-.986,2.023-5.168,2.023-6.137,0-.748-.34-1.071-1.071-1.071h-.986a25.83,25.83,0,0,1-1.785,6.358,19.726,19.726,0,0,1-1.836-5.287A1.331,1.331,0,0,0-133.11-9.18h-1.207A29.039,29.039,0,0,0-131.07-.646c-.493,1.292-.782,1.632-1.615,1.683l-1.292.085v.442a1.487,1.487,0,0,0,1.6,1.411C-130.73,2.975-129.829,2.04-128.129-1.972Zm17.714-6.562v-.9c0-1.6-1.394-2.38-3.3-2.38a5.757,5.757,0,0,0-5.95,6.12A5.645,5.645,0,0,0-113.917.1c1.615,0,3.468-.68,3.468-2.278v-.867h-.085a4.585,4.585,0,0,1-3.077,1.122c-2.193,0-3.706-1.377-3.706-4.114A3.536,3.536,0,0,1-113.7-9.792a4.173,4.173,0,0,1,3.2,1.258Zm6.681,7.242v-.493h-.612c-1.071,0-1.547-.289-1.547-1.207V-10.71a1.442,1.442,0,0,0-1.632-1.53h-.646v9.469A2.589,2.589,0,0,0-105.264.085C-104.261.085-103.734-.306-103.734-1.292Zm4.624-9.877a1.342,1.342,0,0,0-1.343-1.326,1.328,1.328,0,0,0-1.326,1.326,1.342,1.342,0,0,0,1.326,1.343A1.357,1.357,0,0,0-99.11-11.169Zm1.632,9.877v-.493H-97.9c-1,0-1.394-.289-1.394-1.207V-7.276a1.492,1.492,0,0,0-1.632-1.7h-.646v6.2A2.518,2.518,0,0,0-98.838.085C-97.869.085-97.478-.306-97.478-1.292Zm9.86-4.539A3.544,3.544,0,0,0-91.29-9.384c-2.618,0-4.488,1.921-4.488,4.981A4.522,4.522,0,0,0-91.273.2c2.516,0,3.315-.9,3.315-2.074v-.714h-.085a4.153,4.153,0,0,1-2.805.867A2.38,2.38,0,0,1-93.415-3.6h1.5C-88.893-3.6-87.618-4.148-87.618-5.831ZM-89.76-6.1c0,.646-.493.884-2.652.884h-1.02l.017-.306A1.959,1.959,0,0,1-91.494-7.48C-90.44-7.48-89.76-7.021-89.76-6.1ZM-76.942,0V-5.338a3.791,3.791,0,0,0-3.944-4.046,3.823,3.823,0,0,0-4.131,3.927V-1.5a1.484,1.484,0,0,0,1.6,1.5h.68V-5.3c0-1.309.68-2.057,1.666-2.057,1.173,0,1.853.68,1.853,2.227V-1.5A1.515,1.515,0,0,0-77.554,0ZM-73.8-8.806V-3.3c0,2.142,1.122,3.4,3.434,3.4,1.326,0,2.006-.6,2.006-1.53v-.816h-.085a3.247,3.247,0,0,1-1.649.323c-.918,0-1.445-.459-1.445-1.649V-7.157h1.819a1.211,1.211,0,0,0,1.36-1.088V-9.18h-3.179v-2.074h-.527a1.594,1.594,0,0,0-1.071.629A2.28,2.28,0,0,0-73.8-8.806Zm21.029,3.944a4.385,4.385,0,0,0-4.165-4.522c-3.23,0-4.59,2.108-4.59,5.151V1.309a1.559,1.559,0,0,0,1.6,1.581h.714V-1.156A2.681,2.681,0,0,0-56.9.2C-54.23.2-52.768-1.921-52.768-4.862Zm-2.346.6c0,1.462-.765,2.448-1.87,2.448-1.36,0-2.261-1.037-2.261-2.873,0-1.581.7-2.669,1.955-2.669C-55.828-7.361-55.114-6.426-55.114-4.267Zm10.268-2.686v-.816c0-.7-.493-1.5-1.9-1.5-2.414,0-3.383,1.751-3.383,3.587v4.216c0,.952.646,1.462,1.666,1.462h.629V-5.27c0-1.394.561-1.955,1.581-1.955a3.3,3.3,0,0,1,1.326.272Zm1.7,2.533A4.335,4.335,0,0,0-38.811.2c2.958,0,4.539-2.193,4.539-4.947a4.349,4.349,0,0,0-4.335-4.641C-41.565-9.384-43.146-7.174-43.146-4.42Zm6.511,0c0,1.5-.646,2.584-1.972,2.584-1.513,0-2.176-1.088-2.176-2.907,0-1.513.663-2.6,1.972-2.6C-37.315-7.344-36.635-6.256-36.635-4.42ZM-28.7-11.2a1.313,1.313,0,0,0-1.309-1.326A1.342,1.342,0,0,0-31.348-11.2,1.357,1.357,0,0,0-30.005-9.86,1.328,1.328,0,0,0-28.7-11.2ZM-28.917-.068V-7.4a1.456,1.456,0,0,0-1.632-1.581H-31.2V-.289a1.21,1.21,0,0,1-1.19,1.326c-.17.017-.782.068-1.1.068v.833c0,.561.578,1.037,1.479,1.037A2.886,2.886,0,0,0-28.917-.068ZM-17.9-5.831a3.544,3.544,0,0,0-3.672-3.553c-2.618,0-4.488,1.921-4.488,4.981A4.522,4.522,0,0,0-21.556.2c2.516,0,3.315-.9,3.315-2.074v-.714h-.085a4.153,4.153,0,0,1-2.805.867A2.38,2.38,0,0,1-23.7-3.6h1.5C-19.176-3.6-17.9-4.148-17.9-5.831ZM-20.043-6.1c0,.646-.493.884-2.652.884h-1.02l.017-.306A1.959,1.959,0,0,1-21.777-7.48C-20.723-7.48-20.043-7.021-20.043-6.1Zm11.764-.119V-7.293a2.233,2.233,0,0,0-2.5-1.972A4.707,4.707,0,0,0-15.725-4.4,4.622,4.622,0,0,0-11.033.17c1.649,0,2.72-.8,2.72-1.9V-2.788H-8.4a2.989,2.989,0,0,1-2.414.85,2.525,2.525,0,0,1-2.533-2.8,2.489,2.489,0,0,1,2.5-2.431,2.818,2.818,0,0,1,2.482.952Zm2.584-2.584V-3.3c0,2.142,1.122,3.4,3.434,3.4,1.326,0,2.006-.6,2.006-1.53v-.816H-.34a3.247,3.247,0,0,1-1.649.323c-.918,0-1.445-.459-1.445-1.649V-7.157h1.819A1.211,1.211,0,0,0-.255-8.245V-9.18H-3.434v-2.074h-.527a1.594,1.594,0,0,0-1.071.629A2.28,2.28,0,0,0-5.695-8.806Z" transform="translate(1094 365)" fill="#858585"/>
          <g id="マスクグループ_11" data-name="マスクグループ 11" transform="translate(-827.267 -60.959)" clip-path="url(#clip-path)">
            <g id="グループ_131" data-name="グループ 131" transform="translate(1655.528 380.327)">
              <circle id="楕円形_52" data-name="楕円形 52" cx="31.705" cy="31.705" r="31.705" transform="translate(0 0)" opacity="0.61" fill="url(#linear-gradient-2)"/>
              <path id="パス_65" data-name="パス 65" d="M25.3,0A25.3,25.3,0,1,1,0,25.3,25.3,25.3,0,0,1,25.3,0Z" transform="translate(6.439 9.038)" fill="url(#linear-gradient-3)"/>
              <circle id="楕円形_53" data-name="楕円形 53" cx="18.88" cy="18.88" r="18.88" transform="translate(12.824 18.131)" fill="url(#linear-gradient-3)"/>
              <circle id="楕円形_54" data-name="楕円形 54" cx="12.646" cy="12.646" r="12.646" transform="translate(19.237 27.196)" fill="#fff"/>
            </g>
          </g>
        </g>
      </svg>
    </h2>

    <div class="about-content">
      <p class="about-text">{m.about_text1()}</p>
      <p class="about-text">{m.about_text2()}: <a href="https://github.com/spuithori/tokimekibluesky" target="_blank" rel="noopener">GitHub</a></p>

      <div class="about-author">
        <h3 class="about-title">{m.author()}</h3>

        {#if (me)}
          <UserItem user={me}></UserItem>
        {/if}

        <h3 class="about-title">{m.donation()}</h3>

        <div class="mb10">
          <a href="https://www.buymeacoffee.com/spuithori" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;" ></a>
        </div>

        <div>
          <a href="https://tokimeki.fanbox.cc/" target="_blank"><img src="/fanbox.png" alt="PIXIV FANBOX" style="height: 60px !important;width: 217px !important;" ></a>
        </div>

        <p class="about-pp"><a href="https://docs.tokimeki.blue/" target="_blank" rel="noopener">{m.document()}</a></p>

        <p class="about-pp"><a href="https://docs.tokimeki.blue/privacy" target="_blank" rel="noopener">{m.privacy_policy()}</a></p>

        <p class="about-pp"><a href="https://forms.gle/U86Ndm2UUA5Tk4eu9" target="_blank" rel="noopener">{m.feature_request_form()}</a></p>
      </div>
    </div>
  </div>
</div>

<style lang="postcss">
    .about-subhead {
        font-weight: 900;
        font-size: 18px;
        text-align: center;
        margin-bottom: 15px;
    }

    .about-logo {
        text-align: center;
        margin-bottom: 25px;

        svg {
            display: inline-block;
        }
    }

    .about-text {
        line-height: 1.75;
        white-space: pre-line;

        &:not(:last-child) {
            margin-bottom: 1em;
        }
    }

    .about-title {
        margin: 10px 0;
    }

    .about-pp {
        margin-top: 20px;
    }
</style>